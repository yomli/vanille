/*!
 * Vanille
 * Licensed MIT (https://github.com/yomli/vanille/blob/main/LICENSE)
 */'use strict';const $=(b,a=document)=>/#\S+$/.test(b)?a.querySelector.bind(a)(b):[...a.querySelectorAll.bind(a)(b)],body=document.body,html=document.documentElement;let _=a=>typeof a=='string'?$(a):a;const Vanille=function(){let b=[].slice.call(arguments),a=new Array,c=a.push;return b.forEach(b=>a.push(b)),b=null,a.push=a=>c.apply(this,arguments),a.addClass=b=>addClass(a[0],b),a.removeClass=b=>removeClass(a[0],b),a.toggleClass=b=>toggleClass(a[0],b),a.hasClass=b=>hasClass(a[0],b),a.clone=()=>clone(a[0]),a.remove=()=>remove(a[0]),a.replace=b=>replace(a[0],b),a.prepend=b=>prepend(a[0],b),a.append=b=>append(a[0],b),a.before=b=>before(a[0],b),a.after=b=>after(a[0],b),a.clear=()=>clear(a[0]),a.attr=(b,c)=>attr(a[0],b,c),a.removeAttr=b=>removeAttr(a[0],b),a.style=b=>style(a[0],b),a.id=()=>id(a[0]),a.href=()=>href(a[0]),a.computedStyle=b=>computedStyle(a[0],b),a.fadeTo=b=>fadeTo(a[0],b),a.on=(b,c)=>on(b,a[0],c),a.onClickOutside=b=>onClickOutside(a[0],b),a.show=(b='')=>show(a[0],b),a.hide=()=>hide(a[0]),a.toggle=(b='')=>toggle(a[0],b),a.foreach=b=>Array.prototype.forEach.call(a[0],b),a.shuffle=()=>a[0].sort(()=>.5-Math.random()),a},$$=a=>new Vanille($(a)),newUUID=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,a=>(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)),newID=()=>'_'+Math.random().toString(16).substr(6,14),getSelectedText=()=>window.getSelection().toString(),strigTags=a=>(new DOMParser).parseFromString(a,'text/html').body.textContent||'',replaceAccents=a=>a.normalize('NFD').replace(/[\u0300-\u036f]/g,''),urlSlug=a=>a.toLowerCase().replace(/\s+/g,'-').replace(/[^\w-]+/g,''),encodeBase64=a=>window.btoa(unescape(encodeURIComponent(a))),decodeBase64=c=>{let a=window.atob(c),b=a;try{b=decodeURIComponent(escape(a))}catch(b){return a}return b},foreach=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;a.length&&Array.prototype.forEach.call(a,b)},sortBy=(b,a)=>b.concat().sort((b,c)=>b[a]>c[a]?1:b[a]<c[a]?-1:0),shuffle=a=>a.sort(()=>.5-Math.random()),range=(a,b)=>Array.from({length:Number(b-a+1)},(c,b)=>Number(a+b)),httpsRedirect=()=>{location.protocol!=='https:'&&(location.protocol='https:')},refresh=()=>location.reload(),rand=(a,b)=>Number(Math.floor(Math.random()*(b-a+1))+a),isValidJSON=a=>{try{return JSON.parse(a),!0}catch(a){return!1}},array2csv=(a,b=',')=>{a.map(a=>a.map(a=>`'${a}'`).join(b)).join('\n')};let _txtTarget=(b,a)=>{if(a)if(a=_(a),a instanceof HTMLInputElement)a.value=b;else if(a[0]){if(a.length)for(let c of a)c.innerHTML=b}else a.innerHTML=b};const ajax=(d,c='GET',e='',f='',b=!1)=>{var a=new XMLHttpRequest;a.open(c,d,!0),c.toLowerCase()=='post'&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(e),a.onreadystatechange=()=>{if(a.readyState!==4)return;if(a.readyState===4&&a.status===200){var c=JSON.parse(a.responseText);b&&b(c,a.status),_txtTarget(c,f)}else b&&b(a.responseText,a.status)}},fetchAPI=(e,a='GET',b='',f='',c=!1)=>{let d={method:a};a.toLowerCase()=='post'&&b&&(d=b instanceof HTMLFormElement?{method:a,body:new FormData(b)}:{method:a,body:b}),fetch(e,d).then(a=>{if(a.ok&&a.status=='200')return a.json();let b=new Error("HTTP status code: "+a.status);throw b.response=a,b.status=a.status,b}).then(a=>{_txtTarget(a,f),c&&c(a,!0)}).catch(a=>{c&&c(a,!1)})},addClass=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;let c=(a,b)=>{a.classList?a.classList.add(b):a.className+=' '+b};a[0]?a.forEach(c(el,b)):c(a,b)},removeClass=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;let c=(a,b)=>{a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp('(^| )'+b.split(' ').join('|')+'( |$)','gi'),' ')};a[0]?a.forEach(c(a,b)):c(a,b)},toggleClass=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;let c=(a,b)=>{if(a.classList)a.classList.toggle(b);else{let c=a.className.split(' '),d=c.indexOf(b);d>=0?c.splice(d,1):c.push(b),a.className=c.join(' ')}};a[0]?a.forEach(c(el,b)):c(a,b)},hasClass=(a,b)=>!(a=_(a),!a||a.length==0)&&(a[0]&&(a=a[0]),a.className&&new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)),create=(b,c='')=>{let a=document.createElement(b);if(c)for(let[b,d]of Object.entries(c))attr(a,b,d);return attr(a,'id')==null&&attr(a,'id',b+'_'+Math.random().toString(16).substr(6,14)),a},clone=a=>{if(a=_(a),!a||a.length==0)return!1;if(!a[0])return a.cloneNode();for(let b of a)b.cloneNode()},remove=a=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])for(let b of a)b.parentNode.removeChild(b);else a.parentNode.removeChild(a)},replace=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])for(let c of a)c.parentNode.replaceChild(b,c);else a.parentNode.replaceChild(b,a)},prepend=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])for(let c of a)c.innerHTML=b+c.innerHTML;else a.innerHTML=b+a.innerHTML},append=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])for(let c of a)c.innerHTML+=b;else a.innerHTML+=b},before=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])for(let c of a)c.insertAdjacentHTML('beforebegin',b);else a.insertAdjacentHTML('beforebegin',b)},after=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])for(let c of a)c.insertAdjacentHTML('afterend',b);else a.insertAdjacentHTML('afterend',b)},clear=a=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])for(let b of a)b.innerHTML='';else a.innerHTML=''},attr=(a,b,c)=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])if(c!=void 0)for(let d of a)d.setAttribute(b,c);else{let c=[];for(let d of a)c[d]=d.getAttribute(b);return c}else if(c!=void 0)a.setAttribute(b,c);else return!!a.getAttribute&&a.getAttribute(b)},removeAttr=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])for(let c of a)c.removeAttribute(b);else a.removeAttribute(b)},style=(a,b)=>attr(a,'style',b),id=a=>attr(a,'id'),href=a=>attr(a,'href'),computedStyle=(a,b)=>!(a=_(a),!a||a.length==0)&&window.getComputedStyle(a).getPropertyValue(b),fadeTo=(a,b)=>style(a,'opacity:'+b+';'),fistIn=(a,b='')=>!(a=_(a),!a||a.length==0)&&(b?a.querySelector(b):a.children[0]),lastIn=(a,b='')=>{if(a=_(a),!a||a.length==0)return!1;if(b){let c=a.querySelectorAll(b);return!!c&&(c.length?c[c.length-1]:c)}return a.lastElementChild},parent=(a,b=1)=>{if(a=_(a),!a||a.length==0)return!1;if(b==1)return a.parentNode;for(var c=1;c<=b;c++)a=a.parentNode;return a},siblings=a=>!(a=_(a),!a||a.length==0)&&[].slice.call(a.parentNode.children).filter(b=>b!==a),nextSibling=a=>!(a=_(a),!a||a.length==0)&&a.nextElementSibling,previousSibling=a=>!(a=_(a),!a||a.length==0)&&a.previousElementSibling,isDescendant=(a,b)=>!(a=_(a),!a||a.length==0)&&(!(b=_(b),!b||b.length==0)&&b.contains(a)),hasFocus=a=>!(a=_(a),!a||a.length==0)&&a===document.activeElement,when_ready=a=>window.addEventListener('DOMContentLoaded',a,!1),on=(b,a,c,d=!1)=>{if(a=a===''||typeof a=='undefined'?window.document:_(a),a[0])for(let e of a)e.addEventListener(b,c,d);else a.addEventListener(b,c,d)},onDomChange=a=>on('DOMSubtreeModified','',a),onClickOutside=(a,b)=>{if(a=_(a),!a||a.length==0)return!1;document.addEventListener('click',c=>{a.contains(c.target)||b()})},form2object=a=>!(a=_(a),!a||a.length==0)&&Array.from(new FormData(a)).reduce((a,[b,c])=>({...a,[b]:c}),{}),form2json=a=>JSON.stringify(form2object(a)),show=(a,b='')=>{if(a=_(a),!a||a.length==0)return!1;if(a[0])for(let c of a)c.style.display=b;else a.style.display=b},hide=a=>{show(a,'none')},toggle=(a,b='')=>{if(a=_(a),!a||a.length==0)return!1;let c=(b,a,c)=>b==a?c:a;if(a[0])for(let d of a)d.style.display=c(d.style.display,'none',b);else a.style.display=c(a.style.display,'none',b)}